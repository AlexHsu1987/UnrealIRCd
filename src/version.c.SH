# $Id$

echo "Extracting src/version.c..."

id=`grep '$Id: Changes,v' ../Changes`
id=`echo $id |sed 's/.* Changes\,v \(.*\) .* Exp .*/\1/'`
echo "$id"

if test -r version.c
then
   generation=`sed -n 's/^char \*generation = \"\(.*\)\";/\1/p' < version.c`
   if test ! "$generation" ; then generation=0; fi
else
   generation=0
fi

generation=`expr $generation + 1`
creation=`date | \
awk '{if (NF == 6) \
         { print $1 " "  $2 " " $3 " "  $6 " at " $4 " " $5 } \
else \
         { print $1 " "  $2 " " $3 " " $7 " at " $4 " " $5 " " $6 }}'`

cat >version.c <<!SUB!THIS!
/*
 *   IRC - Internet Relay Chat, ircd/version.c
 *   Copyright (C) 1990 Chelsea Ashley Dyerman
 *
 *   This program is free software; you can redistribute it and/or modify
 *   it under the terms of the GNU General Public License as published by
 *   the Free Software Foundation; either version 1, or (at your option)
 *   any later version.
 *
 *   This program is distributed in the hope that it will be useful,
 *   but WITHOUT ANY WARRANTY; without even the implied warranty of
 *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *   GNU General Public License for more details.
 *
 *   You should have received a copy of the GNU General Public License
 *   along with this program; if not, write to the Free Software
 *   Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
 * 
 *   $Id$
 */

/*
 * This file is generated by version.c.SH. Any changes made will go away.
 */

#include "struct.h"
#include "version.h"
#include "license.h"

char *generation = "$generation";
char *creation = "$creation";
#define IRCDTOTALVERSION BASE_VERSION PATCH1 PATCH2 PATCH3 PATCH4 PATCH5 PATCH6 PATCH7 PATCH8 PATCH9
char *version = IRCDTOTALVERSION;
char *buildid = "$id";
/* moved to s_serv.c */
char *infotext[] = 
{ 0 };

char *unrealcredits[] =
{
	"-=-=-=-=-=-=-=-=-=-= [ " IRCDTOTALVERSION " Credits ] -=-=-=-=-",
	"The people on this list is people who have helped up through",
	"the development of UnrealIRCd. The Unreal Team would like to thank",
	"those people by listing them here:",
	"-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=",
	"              \2\37The UnrealIRCd Team would like to thank:\2\37",
	"Nutcais (Phil Hawkins)",
	"- the original shell for Unreal development, useful comments,",
	"  being a real IRCbrother for me (Stskeeps) :), learning me a lot",
	"  about IRC stuff, getting me more and more into IRCd business",
	"  thanks for the *.tspre.org domain as well :)",
	"",
	"Mick and Sp^",
	"- Amiga port of Unreal (UnrealIRCd/Amiga), continually strange",
	"  comments on #UnrealIRCd, being great supporters of Unreal",
	"  and following Unreal development all the way",
	"DrBin (Dave) drbin@tspre.org",
	"- Recoded & made the new UnrealIRCd/32 code, support,"
	"  finding bugs, and tonnes of other stuff:)",
	"Headbang (Melle Visser)",
	"- Donation of ircsystems.net, hardware for Stskeeps, and for",
	"  being a great supporter of Unreal, and helping out at the",
	"  support channel",
	"WonderWal (Alan Wolff)",
	"- Sending Stskeeps Slackware 7, and Visual Studio",
	"  helping out in the help channel, and a lot of other stuff",
	"{X} (Laurie) x@tspre.org",
	"- Making the main code/design of UnrealIRCd/32 gui",
	"  bugfounds, etc",
	"www.secure-tech.net",
	"- Donating webhosting",
	"TheDarkOne & x-irc.net",
	"- Donating DNS and development shells",
	"irc4ever.net",
	"- Donating backup DNS",
	"RaYmAn (Jens Andersen)",
	"- Supporting with hardware, software, movies, etc, and for",
	"  a great friendship, and spending a lot of time with sts",
	"",
	"noriko             noriko@linuxsquare.net",
	"- Giving us an OpenBSD shell to develop on :)",
	"Anonymos           Anonymos@secretservices.net",
	"- Shell provider, mirror, support, bugfinds",
	"llthangel",
	"- A good job helping with bugs/especially SJ3",
	"",
	"                         \37Donations to Unreal:\37",
	"BlueFlame^",
	" - the first UnrealIRCd donation :)",
	"[Real] from ChatFIRST.com",
	" - donation to UnrealIRCd project :)",
	"Jameno123 & ByteHosting Internet Services",
	"- Hardware donations (diskspace!)",
	"Anonymos",
	"- Shell donation for tspre.org",
	"Interlink Access Corp",
	" - donation to the UnrealIRCd development",
	"Jan Knutar (JK@IRC)",
	" - RAM donation, Shell donations :D, and a hell lot of other stuff",
	"Thanks to Headbang and WonderWal too for hardware+software",
	"donations",
	"   (yes your name can be here too;)",
	"",
	"         \37These people have helped alpha/betatesting/fixing bugs\37",
	"zshack, Headbang, Mick, Sp^, WonderWal, bomb, BullFrog, JacobD,",
	"SirDeath, l33, EiniD, uo, RevPsych and the subgenius.net network,",
	"^RavenX^, Mich[a]el, {X}, Fish, Shmad, Killer, BrainSCAN, RevNull,",
	"GoNiS, Mikey, DrBin, rapta, crow, SevenEagle, Curt|s, Scooter,",
	"auspice, RaYmAn, Taz, HERZ, Pique, ROXnet, trinity, script0r",
	"BiGi, [ins4ne], Zogg",
	"",
	"                  \2\37The UnrealIRCd Support Staff:\2\37",
	"apt        - apt@unrealircd.info",
	"TheEggMan  - TheEggMan@unrealircd.info",
	"nemesis    - nemesis@unrealircd.info",
	"Ron885     - Ron885@unrealircd.info",
	"iDW-badSol - iDW-badSol@unrealircd.info",
	"",
	"Thanks to former supporters, and anyone who has helped without",
	"officially joining the staff",
	"",
        "                   \2\37Stskeeps would like to thank:\2\37", 
	"Morrigan             Julie Frederiksen",
	" - Being a friend, thinking I was cute, uhm laying on a recycle",
	"   thing.. 'Its the wrong recycle box Julie!', 'you got too cold",
	"   hands *freezing*', etc ;).",
	"DJBoxy       *unknown*                *unknown*",
	" - For getting me up from #wIRCd bringing me to Mp3fansNet and",
	"   after we linked to Global-IRC.net - and made people choose me",
	"   as netadmin/ircd coder - Thanx!",
	"TC           Tabita Clausen           (reallife)",
	" - Being a friend, always willing to watch a movie, go up in",
	"   town with me.. be honest.. thanks for all that have been",
	"M_Girly      Michelle Howie           *grin*",
	" - Always with me, always in my heart, since the very start",
	"   Thanks for being a friend in so many years, I hope I will",
	"   never see your tears..",
        "SL7          Steve Lake               sl7 @ austnet.org",
        " - Bug testing, comments, lotsa ideas, wierd reactions,",
        "   making Apollo, supporting Unreal and other freakout",
        "   thingies, being a general wierdoe etc. ",
	"Dark-Prince",
	" - Systray code, sharing ideas, code, bugs, and a lot of stuff",
	"Bleep",
	" - The brilliant ircu win32 port",
	"Sporty_McFly  Cedric",
	" - Comments, helping me when I got problems with my life and so on",
        "   *toh* to him - Thanks!",
	"psych1ks      Ashley",
	" - Always nice and willing to talk .. test things out, with me in",
	"   hard times, breaking stuff for me to find and fix. All and all",
	"   the best friend you could ever get",
	"catgirl-tifa  Kate",
	"  - Talking, showing me anime on a MMS stream, japanese pop music, ",
	"    thanks for being a good friendlet",
	"RaYmAn        (no..)",
	" - Coming up in weekends, crazy testing, being a great friend..",
	"   beating me in .. all games?",
	"JK            Jan Knutar",
	" - Being a friend, a great one. Sharing problems, and for IPv6",
	"   testing",
	"The Lamer Removal Task Force (lrtf.turkeyland.net)",
	" - Well. let's see.. pissing off users.. etc etc ... etc..",
	"evilpanda",
	" - Hosting CVS and causing more trouble than a stone in a ant nest",
	"^Tux^, Luke, ][rish",
	" - Luke: gotcha. ^Tux^/][rish: Inspirations for the MEXS project", 
	"evilgoat",
	" - When asked to clone flood development server with 200 clones",
	"   in exchange for /credits item, he flooded #unrealircd by",
	"   accident (or?)", 
	"Skywalker     Chris Morley            skywalker@irc.ru.ac.za",
	" - Helping me start up ROXnet at first (which brought me",
	"   into IRCd business.. + Numerous kicks /Kills akills and alike;)",
	"zero9000      Kevin Alford",
	" - UnrealIRCd logo, graphics, null desu ;), ideas etc.",
	"jfc           John Crowhurst",
	" - Thanks for hosting the project for long time."
	"HERZ",
	" - For proving me wrong in the beta phases....",
        "                   \2\37codemastr would like to thank:\2\37", 
	"CaliMonk      Ivo Teel                calimonk@axenet.org",
	" - Getting me started at NeoHorizon which basically got me",
	"   started coding IRCd",
	"[FBI]         Corey Lang              fbi@dal.net",
	" - Being a good IRC friend and getting me started with",
	"   IRC through our old little wIRCd net :)",
	"Fish",
	" - For converting a bunch of commands to modules",
	"The +x 2.0 team: RaYmAn, NiQuiL, narf, Griever (great thinking)",
	"                 eternal, bball, JK. Thanks for makin a",
	"                 drop dead gorgeous algoritm.",
	"",
	"                   \2\37Griever would like to thank:\2\37",
	"TRON          Nathan Martin          tron@t2n.org",
	" - For first getting me interested in ircd and for all of",
	"   the help and support, and for being a good friend :D",
	"C_Dreamer     Richard Heathfield     cd@eton.powernet.co.uk",
	" - For writing the best C programming manual in",
	"   existance and teaching me to be a total pedant",
	"   when I program :D (pedants make the best programmers btw)",
	"The Yahoo chat Programming room regulars:",
	" tekk, cap, angel, C_Q, scoob, strom, anon, PCS, and the",
	" whole gang, thanks for teaching me all I know",
	"ChibiChibi    Christina Gonzalez     chibichibi@vauss.com",
	" For being a great first love and still a good friend :D",
	"Rook          Daniel Lee Brabble     exile@soundtrack-central.com",
	" - Like a big brother to me, thanks for all those heartfelt",
	"   conversations and all those fun Descent ][ games :D",
	"Ransom        Sean Ouimet            ransom@t2n.org (I think)",
	" - Infinite patience on my hogging of hard drive space on his",
	"   linux box, providing my ircd shell (which has since been", 
	"   used for many other things)",
	"Alcan         Andrew Church          achurch@achurch.org",
	" - Giving me fun things to do with C and IRC, discussions about",
	"   the intricacies of the protocol (thanks to the eso.nu ppl",
	"   for the same reason)",
	"Other people I don't remember",
	"",
	"Oh, and code and sts too, thanks for providing such a valuable",
	"Learning experience :P~",
	"",
	"",                     
	"                            \2\37Also thanks to:\2\37",
	"Enforcer, Andy Church, Mick, Sp^, ShadowMastr, Almaris",
	"}{, Erik/Dr|zzt, Hedge, Kyle, MissKel, jfc, Fish, kore, Syndicate, Bagge,",
	"#Coder-Com@Undernet, ^NeVeR^, flygirl^, DannyM, JuliuZ, wah-wah^, Lisa,",
	"Melisa, Dukemaster, NonMortal, Andryan, TomaHawk, Lushes, Skywalker, Merlin, Sporty_McFly,", 
	"zero9000, #wIRCd@DALnet, comstud, dog3, Dianora, Isomer, and others who arent listed here:)",
	"",
	"------------------------------------------------------",
	"Unreal 3.0, 3.1, 3.1.1 and up is dedicated to Morrigan",
	"------------------------------------------------------",
	"This IRCd is dedicated to the love that has always been",
	"and will always be there - Thanks to the girls & friends that kept me up",
	"when I was down",
	0
};
char unreallogo[] = 
{
32,95,32,32,32,95,32,32,32,32,32,
32,32,32,32,32,32,32,32,32,32,32,
32,32,32,32,32,32,95,32,95,95,95,
95,95,95,95,95,95,95,95,32,32,95,
95,95,95,95,32,32,32,32,32,95,32,
10,124,32,124,32,124,32,124,32,32,32,
32,32,32,32,32,32,32,32,32,32,32,
32,32,32,32,32,32,124,32,124,95,32,
32,32,95,124,32,95,95,95,32,92,47,
32,32,95,95,32,92,32,32,32,124,32,
124,10,124,32,124,32,124,32,124,95,32,
95,95,32,32,95,32,95,95,32,95,95,
95,32,32,95,95,32,95,124,32,124,32,
124,32,124,32,124,32,124,95,47,32,47,
124,32,47,32,32,92,47,32,95,95,124,
32,124,10,124,32,124,32,124,32,124,32,
39,95,32,92,124,32,39,95,95,47,32,
95,32,92,47,32,95,96,32,124,32,124,
32,124,32,124,32,124,32,32,32,32,47,
32,124,32,124,32,32,32,32,47,32,95,
96,32,124,10,124,32,124,95,124,32,124,
32,124,32,124,32,124,32,124,32,124,32,
32,95,95,47,32,40,95,124,32,124,32,
124,95,124,32,124,95,124,32,124,92,32,
92,32,124,32,92,95,95,47,92,32,40,
95,124,32,124,10,32,92,95,95,95,47,
124,95,124,32,124,95,124,95,124,32,32,
92,95,95,95,124,92,95,95,44,95,124,
95,124,92,95,95,95,47,92,95,124,32,
92,95,124,32,92,95,95,95,95,47,92,
95,95,44,95,124,10,0,85,110,114,
101,97,108,0};

char *dalinfotext[] =
    {
        "$package --",
        "Based on the original code written by Jarkko Oikarinen",
        "Copyright 1988, 1989, 1990, 1991 University of Oulu, Computing Center",
        "",
        "This program is free software; you can redistribute it and/or",
        "modify it under the terms of the GNU General Public License as",
        "published by the Free Software Foundation; either version 1, or",
        "(at your option) any later version.",
	"- Any name/comment should never be changed except by the one who made it -",
	"",
	"UnrealIRCd contains code developed by:",
	"Potvin       Chris Wolkowski          potvin@acestar.org",
	"RogerY       Roger Y.                 rogery@austnet.org",
	"GZ                                    gz@starchat.net",
	"binary                                ",
	"Dianora      Diane Bruce",
	"lucas", 
	"Roar Thronaas <roart@nvg.ntnu.no> added IPv6 support.",
	"",
	"",
	"The following people have helped in making the DALnet ircd",
        "that is based on irc2.8.21.mu3.2 :",
        "",
        "Russell      Russell Miller           russell@dal.net",
        "Donwulff     Jukka Santala            donwulff@dal.net",
        "Aetobatus    Michael Sawyer           aetobatus@dal.net",
        "Dalvenjah    Sven Nielsen             dalvenjah@dal.net",
        "Skandranon   Michael Graff            explorer@flame.org",
        "Barubary     -                        barubary@dal.net",
        "white_dragon Chip Norkus              wd@dal.net",
        "DuffJ        Dafydd James             duffj@dal.net",
        "taz          David Kopstain           taz@dal.net",
        "NikB         Nik Bougalis             nikb@dal.net",
        "Rakarra      -                        rakarra@dal.net",
        "DarkRot      Lucas Madar              darkrot@dal.net",
        "Studded      -                        studded@dal.net",
        "JoelKatz     David Schwartz           joelkatz@dal.net",
        "",
        "This product includes software developed by Colin Plumb.",
        "",
        "The following persons have made many changes and enhancements to the",
        "code and still know how IRC really works if you have questions about it:",
        "",
        "Run          Carlo Kid                carlo@runaway.xs4all.nl",
        "Avalon       Darren Reed              avalon@coombs.anu.edu.au",
        "msa          Markku Savela            Markku.Savela@vtt.fi",
        "Wumpus       Greg Lindahl             gl8f@virginia.edu",
        "WiZ          Jarkko Oikarinen         jto@tolsun.oulu.fi",
        "Argv         Armin Gruner Armin.Gruner@Informatik.TU-Muenchen.de",
        "",
        "Thanks to the following people for help with preparing 2.8",
        "",
        "phone        Matthew Green            phone@coombs.anu.edu.au",
        "Sodapop      Chuck Kane               ckane@ece.uiuc.edu",
        "Skygod       Matt Lyle                matt@oc.com",
        "Vesa         Vesa Ruokonen            ruokonen@lut.fi",
        "Nap          Nicolas PIOCH pioch@poly.polytechnique.fr",
        "",
        "Those who helped in prior versions and continue to be helpful:",
        "",
        "Stellan Klebom      Dan Goodwin         Mike Bolotski",
        "Ian Frechette       Markku Jarvinen     Kimmo Suominen",
        "Jeff Trim           Vijay Subramaniam   Karl Kleinpaste",
        "Bill Wisner         Tom Davis           Hugo Calendar",
        "Tom Hopkins         Stephen van den Berg",
        "Bo Adler            Michael Sandrof     Jon Solomon",
        "Jan Peterson        Helen Rose          Paul Graham",
        "",
        "Thanks also goes to those persons not mentioned here who have added",
        "their advice, opinions, and code to IRC.",
        "Thanks also to those who provide the kind sys admins who let me and",
        "others continue to develop IRC.",
        "",

        0
    };
!SUB!THIS!
